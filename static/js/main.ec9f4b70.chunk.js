(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,n){e.exports=n(78)},56:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),i=n(5),u=n(9),l=n(10),s=n(13),d=n(12),f=n(14),m=n(21),p=n(16),h=n(11),v=n(22),E=n(26),b=n.n(E),C=n(31),y=function(e,t){var n=e.find(function(e){return e.base}),a=e.find(function(e){return e.charCode===t}),r=e.map(function(e){return Object(h.a)({},e,{value:n.value*e.value/a.value,previous:n.previous*e.previous/a.previous,base:e===a||null})});return localStorage.setItem("base",a.charCode),{type:"EDIT_CURRENCIES",payload:r}},O=function(e,t){var n=e.map(function(e){return e.charCode===t&&((e=Object.assign({},e)).fav=!e.fav||null),e}),a=n.filter(function(e){return e.fav}).sort(function(e,t){return e.charCode>t.charCode?1:-1}),r=n.filter(function(e){return!e.fav}).sort(function(e,t){return e.charCode>t.charCode?1:-1});return localStorage.setItem("favs",a.map(function(e){return e.charCode})),{type:"EDIT_CURRENCIES",payload:[].concat(Object(C.a)(a),Object(C.a)(r))}},j=(n(56),n(57),function(e){return r.a.createElement(b.a,{style:{height:"300px"},containerRef:function(t){return e.innerRef(t)}},e.children)}),N=Object(i.b)(function(e){return{currencies:e.currencies}})(function(e){var t=e.currencies;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container d-flex justify-content-between"},r.a.createElement(v.a,{options:t,components:{MenuList:j},onChange:function(t){e.dispatch(y(e.currencies,t.charCode))},styles:{container:function(e){return Object(h.a)({},e,{minWidth:"100px"})}},getOptionLabel:function(e){return e.charCode},getOptionValue:function(e){return e.charCode},value:t.find(function(e){return e.base})}),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",{className:"header-nav-item"},r.a.createElement(m.b,{to:"/",className:"header-nav-link",activeClassName:"active",exact:!0},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),r.a.createElement("li",{className:"header-nav-item"},r.a.createElement(m.b,{to:"/converter",className:"header-nav-link",activeClassName:"active",exact:!0},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"))))))}),S=(n(72),function(){return r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-blocks"},r.a.createElement("div",{style:{left:"38px",top:"38px",animationDelay:"0s"}}),r.a.createElement("div",{style:{left:"80px",top:"38px",animationDelay:"0.125s"}}),r.a.createElement("div",{style:{left:"122px",top:"38px",animationDelay:"0.25s"}}),r.a.createElement("div",{style:{left:"38px",top:"80px",animationDelay:"0.875s"}}),r.a.createElement("div",{style:{left:"122px",top:"80px",animationDelay:"0.375s"}}),r.a.createElement("div",{style:{left:"38px",top:"122px",animationDelay:"0.75s"}}),r.a.createElement("div",{style:{left:"80px",top:"122px",animationDelay:"0.625s"}}),r.a.createElement("div",{style:{left:"122px",top:"122px",animationDelay:"0.5s"}})))}),g=(n(73),function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=(new Date).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"2-digit"}),t=this.props,n=t.dispatch,a=t.currencies;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442 \u043d\u0430 ",e),r.a.createElement("table",{className:"table table-striped table-hover currency-table"},r.a.createElement("tbody",null,a.map(function(e,t){if(e.base)return null;var c=e.value-e.previous,o=c>0?"fa fa-sort-asc":c<0?"fa fa-sort-desc":"fa fa-caret-right";return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"button-cell"},r.a.createElement("button",{className:"btn btn-info btn-sm",onClick:function(){return n(O(a,e.charCode))}},r.a.createElement("i",{className:"fa ".concat(e.fav?"fa-star":"fa-star-o"),"aria-hidden":"true"}))),r.a.createElement("td",null,e.charCode),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.value.toFixed(2)),r.a.createElement("td",{className:"text-right"},r.a.createElement("span",null,c.toFixed(4)," "),r.a.createElement("i",{className:o,"aria-hidden":"true"})))}))))}}]),t}(r.a.Component)),x=Object(i.b)(function(e){return{currencies:e.currencies}})(g),R=n(17),D=(n(74),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).state={options:[],firstSelected:{},secondSelected:{},firstValue:"",secondValue:"",cross:0},e}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.currencies,t=e.find(function(e){return e.base}),n=e.find(function(e){return!e.base});this.setState({options:e,firstSelected:t,secondSelected:n}),this.updateCross(),this.updateValue(t.value,"firstValue")}},{key:"updateValue",value:function(e,t){if(!e||+e<0)return e?null:this.setState(Object(R.a)({},t,e));e=/^-?\d+[,.]?(\d{1,2})?/.exec(e)[0],this.setState(Object(R.a)({},t,e)),this.convertCurrency(t)}},{key:"convertCurrency",value:function(e){var t={firstValue:"secondValue",secondValue:"firstValue"};this.setState(function(n){var a=n.cross,r=n[e],c="firstValue"===e?r*a:r/a;return Object(R.a)({},t[e],Math.round(100*c)/100)})}},{key:"selectCurrency",value:function(e){this.setState(e),this.updateCross();var t=e.firstSelected?"firstValue":"secondValue";this.convertCurrency(t)}},{key:"updateCross",value:function(){this.setState(function(e){var t=e.firstSelected,n=e.secondSelected;return{cross:t.value/n.value}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.options,a=t.firstSelected,c=t.secondSelected,o=t.firstValue,i=t.secondValue;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",null,"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440 \u0432\u0430\u043b\u044e\u0442"),r.a.createElement("div",null,o," ",a.name," \u0440\u0430\u0432\u043d\u043e"),r.a.createElement("div",null,i," ",c.name)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 d-flex justify-content-between"},r.a.createElement(v.a,{options:this.props.currencies,value:a,getOptionLabel:function(e){return e.charCode},getOptionValue:function(e){return e.charCode},components:{MenuList:k},styles:{container:function(e){return Object(h.a)({},e,{width:"48%"})}},onChange:function(t){return e.selectCurrency({firstSelected:t})}}),r.a.createElement("input",{className:"converter-text-input",type:"number",step:"any",value:o,onChange:function(t){return e.updateValue(t.target.value,"firstValue")}})),r.a.createElement("div",{className:"col-6 d-flex justify-content-between"},r.a.createElement("input",{className:"converter-text-input",type:"number",step:"any",value:i,onChange:function(t){return e.updateValue(t.target.value,"secondValue")}}),r.a.createElement(v.a,{options:n,value:c,getOptionLabel:function(e){return e.charCode},getOptionValue:function(e){return e.charCode},components:{MenuList:k},styles:{container:function(e){return Object(h.a)({},e,{width:"48%"})}},onChange:function(t){return e.selectCurrency({secondSelected:t})}}))))}}]),t}(r.a.PureComponent)),k=function(e){return r.a.createElement(b.a,{style:{height:"200px"},containerRef:function(t){return e.innerRef(t)}},e.children)},w=Object(i.b)(function(e){return{currencies:e.currencies}})(D),U=n(30),V=n.n(U),I=n(43),_=new(function(){function e(){Object(u.a)(this,e),this._apiBase="https://www.cbr-xml-daily.ru/daily_json.js"}return Object(l.a)(e,[{key:"getData",value:function(){var e=Object(I.a)(V.a.mark(function e(){var t,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this._apiBase);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch data, received ".concat(t.status));case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",this.transformData(n.Valute));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"transformData",value:function(e){var t=new Map([["AUD","\u0410\u0432\u0441\u0442\u0440\u0430\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440"],["AZN","\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d\u0441\u043a\u0438\u0439 \u043c\u0430\u043d\u0430\u0442"],["USD","\u0414\u043e\u043b\u043b\u0430\u0440 \u0421\u0428\u0410"],["GBP","\u0424\u0443\u043d\u0442 \u0441\u0442\u0435\u0440\u043b\u0438\u043d\u0433\u043e\u0432 \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u0430"],["TMT","\u041d\u043e\u0432\u044b\u0439 \u0442\u0443\u0440\u043a\u043c\u0435\u043d\u0441\u043a\u0438\u0439 \u043c\u0430\u043d\u0430\u0442"],["BYN","\u0411\u0435\u043b\u043e\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c"],["BGN","\u0411\u043e\u043b\u0433\u0430\u0440\u0441\u043a\u0438\u0439 \u043b\u0435\u0432"],["BRL","\u0411\u0440\u0430\u0437\u0438\u043b\u044c\u0441\u043a\u0438\u0439 \u0440\u0435\u0430\u043b"],["HUF","\u0412\u0435\u043d\u0433\u0435\u0440\u0441\u043a\u0438\u0439 \u0444\u043e\u0440\u0438\u043d\u0442"],["HKD","\u0413\u043e\u043d\u043a\u043e\u043d\u0433\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440"],["DKK","\u0414\u0430\u0442\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430"],["XDR","\u0421\u0414\u0420 (\u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0438\u043c\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f)"],["EUR","\u0415\u0432\u0440\u043e"],["RON","\u0420\u0443\u043c\u044b\u043d\u0441\u043a\u0438\u0439 \u043b\u0435\u0439"],["CAD","\u041a\u0430\u043d\u0430\u0434\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440"],["KGS","\u041a\u0438\u0440\u0433\u0438\u0437\u0441\u043a\u0438\u0439 \u0441\u043e\u043c"],["KZT","\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d\u0441\u043a\u0438\u0439 \u0442\u0435\u043d\u0433\u0435"],["CNY","\u041a\u0438\u0442\u0430\u0439\u0441\u043a\u0438\u0439 \u044e\u0430\u043d\u044c"],["SGD","\u0421\u0438\u043d\u0433\u0430\u043f\u0443\u0440\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440"],["ZAR","\u042e\u0436\u043d\u043e\u0430\u0444\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u0438\u0439 \u0440\u044d\u043d\u0434"],["MDL","\u041c\u043e\u043b\u0434\u0430\u0432\u0441\u043a\u0438\u0439 \u043b\u0435\u0439"],["INR","\u0418\u043d\u0434\u0438\u0439\u0441\u043a\u0430\u044f \u0440\u0443\u043f\u0438\u044f"],["KRW","\u0412\u043e\u043d \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u043e\u0440\u0435\u044f"],["NOK","\u041d\u043e\u0440\u0432\u0435\u0436\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430"],["AMD","\u0410\u0440\u043c\u044f\u043d\u0441\u043a\u0438\u0439 \u0434\u0440\u0430\u043c"],["UAH","\u0423\u043a\u0440\u0430\u0438\u043d\u0441\u043a\u0438\u0439 \u0433\u0440\u0438\u0432\u043d\u0430"],["PLN","\u041f\u043e\u043b\u044c\u0441\u043a\u0438\u0439 \u0437\u043b\u043e\u0442\u044b\u0439"],["CHF","\u0428\u0432\u0435\u0439\u0446\u0430\u0440\u0441\u043a\u0438\u0439 \u0444\u0440\u0430\u043d\u043a"],["SEK","\u0428\u0432\u0435\u0434\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430"],["TJS","\u0422\u0430\u0434\u0436\u0438\u043a\u0441\u043a\u0438\u0439 \u0441\u043e\u043c\u043e\u043d"],["UZS","\u0423\u0437\u0431\u0435\u043a\u0441\u043a\u0438\u0439 \u0441\u0443\u043c"],["CZK","\u0427\u0435\u0448\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430"],["TRY","\u0422\u0443\u0440\u0435\u0446\u043a\u0430\u044f \u043b\u0438\u0440\u0430"],["JPY","\u042f\u043f\u043e\u043d\u0441\u043a\u0430\u044f \u0438\u0435\u043d\u0430"]]),n=Object.values(e).map(function(e){return{id:e.ID,charCode:e.CharCode,name:t.get(e.CharCode),value:e.Value/e.Nominal,previous:e.Previous/e.Nominal}});return n.push({id:"R00000",charCode:"RUB",name:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",value:1,previous:1,base:!0}),n}}]),e}()),T=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"FETCH_CURRENCIES_REQUEST"}),_.getData().then(function(n){t({type:"FETCH_CURRENCIES_SUCCESS",payload:n}),e.loadFromLocalStorage()}).catch(function(e){t(function(e){return{type:"FETCH_CURRENCIES_FAILURE",payload:e}}(e))})}},{key:"loadFromLocalStorage",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.currencies,r=localStorage,c=r.base,o=r.favs;c&&n(y(a,c)),o&&o.split(",").forEach(function(t){n(O(e.props.currencies,t))})}},{key:"render",value:function(){return this.props.loading?r.a.createElement(S,null):r.a.createElement(m.a,{basename:"/currency-converter"},r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",component:x,exact:!0}),r.a.createElement(p.a,{path:"/converter",component:w}))))}}]),t}(r.a.Component),F=Object(i.b)(function(e){return{loading:e.loading,error:e.error,currencies:e.currencies}})(T),L=(n(77),function(e){return r.a.createElement("div",{className:"error-indicator-frame"},r.a.createElement("div",{className:"error-indicator"},r.a.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true"}),r.a.createElement("h1",null,"\u0423\u043f\u0441! \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!"),r.a.createElement("i",{className:"error-code"},"(",e.error.message,")")))}),H=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).state={error:null},e}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"render",value:function(){return this.state.error?r.a.createElement(L,{error:this.state.error}):this.props.error?r.a.createElement(L,{error:this.props.error}):this.props.children}}]),t}(r.a.Component),M=Object(i.b)(function(e){return{error:e.error}})(H),K=n(25),A={currencies:[],error:!1,loading:!0},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENCIES_REQUEST":return{currencies:[],error:!1,loading:!0};case"FETCH_CURRENCIES_SUCCESS":return{currencies:t.payload,error:!1,loading:!1};case"FETCH_CURRENCIES_FAILURE":return{currencies:[],error:t.payload,loading:!1};case"EDIT_CURRENCIES":return Object(h.a)({},e,{currencies:t.payload});default:return e}},P=Object(K.b)(B);o.a.render(r.a.createElement(i.a,{store:P},r.a.createElement(M,null,r.a.createElement(F,null))),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.ec9f4b70.chunk.js.map