(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(79)},57:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),i=a(5),l=a(9),s=a(10),u=a(12),d=a(11),m=a(13),f=a(21),p=a(16),h=a(22),v=a(26),E=a.n(v),b=a(32),C=a(15),y=function(e,t){var a=e.find(function(e){return e.base}),n=e.find(function(e){return e.charCode===t}),r=e.map(function(e){return Object(C.a)({},e,{value:a.value*e.value/n.value,previous:a.previous*e.previous/n.previous,base:e===n||null})});return localStorage.setItem("base",n.charCode),{type:"EDIT_CURRENCIES",payload:r}},N=function(e,t){var a=e.map(function(e){return e.charCode===t&&((e=Object.assign({},e)).fav=!e.fav||null),e}),n=a.filter(function(e){return e.fav}).sort(function(e,t){return e.charCode>t.charCode?1:-1}),r=a.filter(function(e){return!e.fav}).sort(function(e,t){return e.charCode>t.charCode?1:-1});return localStorage.setItem("favs",n.map(function(e){return e.charCode})),{type:"EDIT_CURRENCIES",payload:[].concat(Object(b.a)(n),Object(b.a)(r))}},O=(a(57),a(58),function(e){return r.a.createElement(E.a,{style:{height:"300px"},containerRef:function(t){return e.innerRef(t)}},e.children)}),S=Object(i.b)(function(e){return{currencies:e.currencies}})(function(e){var t=e.currencies;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex align-items-center"},r.a.createElement("div",{className:"col-4 col-md-2"},r.a.createElement(h.a,{options:t,components:{MenuList:O},onChange:function(t){e.dispatch(y(e.currencies,t.charCode))},getOptionLabel:function(e){return e.charCode},getOptionValue:function(e){return e.charCode},value:t.find(function(e){return e.base})})),r.a.createElement("nav",{className:"col-8 col-md-10"},r.a.createElement("ul",null,r.a.createElement("li",{className:"header-nav-item"},r.a.createElement(f.b,{to:"/",className:"header-nav-link",activeClassName:"active",exact:!0},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),r.a.createElement("li",{className:"header-nav-item"},r.a.createElement(f.b,{to:"/converter",className:"header-nav-link",activeClassName:"active",exact:!0},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440")))))))}),j=(a(73),function(){return r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-blocks"},r.a.createElement("div",{style:{left:"38px",top:"38px",animationDelay:"0s"}}),r.a.createElement("div",{style:{left:"80px",top:"38px",animationDelay:"0.125s"}}),r.a.createElement("div",{style:{left:"122px",top:"38px",animationDelay:"0.25s"}}),r.a.createElement("div",{style:{left:"38px",top:"80px",animationDelay:"0.875s"}}),r.a.createElement("div",{style:{left:"122px",top:"80px",animationDelay:"0.375s"}}),r.a.createElement("div",{style:{left:"38px",top:"122px",animationDelay:"0.75s"}}),r.a.createElement("div",{style:{left:"80px",top:"122px",animationDelay:"0.625s"}}),r.a.createElement("div",{style:{left:"122px",top:"122px",animationDelay:"0.5s"}})))}),g=a(30),x=a.n(g),R=(a(74),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=(new Date).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"2-digit"}),t=this.props,a=t.dispatch,n=t.currencies,c=function(e,t){if(e.base)return null;var c=e.value-e.previous,o=c>0?"fa fa-sort-asc":c<0?"fa fa-sort-desc":"fa fa-caret-right";return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"button-cell"},r.a.createElement("button",{className:"btn btn-info btn-sm",onClick:function(){return a(N(n,e.charCode))}},r.a.createElement("i",{className:"fa ".concat(e.fav?"fa-star":"fa-star-o"),"aria-hidden":"true"}))),r.a.createElement("td",null,e.charCode),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.value.toFixed(2)),r.a.createElement("td",{className:"text-right"},r.a.createElement(x.a,{minWidth:768},r.a.createElement("span",null,c.toFixed(4)," ")),r.a.createElement("i",{className:o,"aria-hidden":"true"})))};return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"home-page-title"},"\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442 \u043d\u0430 ",e),r.a.createElement(x.a,{minWidth:768},function(e){return e?r.a.createElement("table",{className:"table table-striped table-hover currency-table"},r.a.createElement("tbody",null,n.map(c))):r.a.createElement("table",{className:"table table-sm table-striped table-hover currency-table"},r.a.createElement("tbody",null,n.map(c)))}))}}]),t}(r.a.Component)),D=Object(i.b)(function(e){return{currencies:e.currencies}})(R),w=a(17),k=(a(75),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={options:[],firstSelected:{},secondSelected:{},firstValue:"",secondValue:"",cross:0},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.currencies,t=e.find(function(e){return e.base}),a=e.find(function(e){return!e.base});this.setState({options:e,firstSelected:t,secondSelected:a}),this.updateCross(),this.updateValue(t.value,"firstValue")}},{key:"updateValue",value:function(e,t){if(!e||+e<0)return e?null:this.setState(Object(w.a)({},t,e));e=/^-?\d+[,.]?(\d{1,2})?/.exec(e)[0],this.setState(Object(w.a)({},t,e)),this.convertCurrency(t)}},{key:"convertCurrency",value:function(e){var t={firstValue:"secondValue",secondValue:"firstValue"};this.setState(function(a){var n=a.cross,r=a[e],c="firstValue"===e?r*n:r/n;return Object(w.a)({},t[e],Math.round(100*c)/100)})}},{key:"selectCurrency",value:function(e){this.setState(e),this.updateCross();var t=e.firstSelected?"firstValue":"secondValue";this.convertCurrency(t)}},{key:"updateCross",value:function(){this.setState(function(e){var t=e.firstSelected,a=e.secondSelected;return{cross:t.value/a.value}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.options,n=t.firstSelected,c=t.secondSelected,o=t.firstValue,i=t.secondValue;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"converter-title"},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440 \u0432\u0430\u043b\u044e\u0442"),r.a.createElement("div",null,o," ",n.name," \u0440\u0430\u0432\u043d\u043e"),r.a.createElement("div",null,i," ",c.name)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6 mb-3 mb-md-0 d-flex justify-content-between"},r.a.createElement(h.a,{options:this.props.currencies,value:n,getOptionLabel:function(e){return e.charCode},getOptionValue:function(e){return e.charCode},components:{MenuList:U},styles:{container:function(e){return Object(C.a)({},e,{width:"48%"})}},onChange:function(t){return e.selectCurrency({firstSelected:t})}}),r.a.createElement("input",{className:"converter-text-input",type:"number",step:"any",value:o,onChange:function(t){return e.updateValue(t.target.value,"firstValue")}})),r.a.createElement("div",{className:"col-12 col-md-6 d-flex justify-content-between flex-row-reverse flex-md-row"},r.a.createElement("input",{className:"converter-text-input",type:"number",step:"any",value:i,onChange:function(t){return e.updateValue(t.target.value,"secondValue")}}),r.a.createElement(h.a,{options:a,value:c,getOptionLabel:function(e){return e.charCode},getOptionValue:function(e){return e.charCode},components:{MenuList:U},styles:{container:function(e){return Object(C.a)({},e,{width:"48%"})}},onChange:function(t){return e.selectCurrency({secondSelected:t})}}))))}}]),t}(r.a.PureComponent)),U=function(e){return r.a.createElement(E.a,{style:{height:"200px"},containerRef:function(t){return e.innerRef(t)}},e.children)},V=Object(i.b)(function(e){return{currencies:e.currencies}})(k),I=a(31),_=a.n(I),T=a(44),F=new(function(){function e(){Object(l.a)(this,e),this._apiBase="https://www.cbr-xml-daily.ru/daily_json.js"}return Object(s.a)(e,[{key:"getData",value:function(){var e=Object(T.a)(_.a.mark(function e(){var t,a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this._apiBase);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch data, received ".concat(t.status));case 5:return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",this.transformData(a.Valute));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"transformData",value:function(e){var t=new Map([["AUD","\u0410\u0432\u0441\u0442\u0440\u0430\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440"],["AZN","\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d\u0441\u043a\u0438\u0439 \u043c\u0430\u043d\u0430\u0442"],["USD","\u0414\u043e\u043b\u043b\u0430\u0440 \u0421\u0428\u0410"],["GBP","\u0424\u0443\u043d\u0442 \u0441\u0442\u0435\u0440\u043b\u0438\u043d\u0433\u043e\u0432 \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u0430"],["TMT","\u041d\u043e\u0432\u044b\u0439 \u0442\u0443\u0440\u043a\u043c\u0435\u043d\u0441\u043a\u0438\u0439 \u043c\u0430\u043d\u0430\u0442"],["BYN","\u0411\u0435\u043b\u043e\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c"],["BGN","\u0411\u043e\u043b\u0433\u0430\u0440\u0441\u043a\u0438\u0439 \u043b\u0435\u0432"],["BRL","\u0411\u0440\u0430\u0437\u0438\u043b\u044c\u0441\u043a\u0438\u0439 \u0440\u0435\u0430\u043b"],["HUF","\u0412\u0435\u043d\u0433\u0435\u0440\u0441\u043a\u0438\u0439 \u0444\u043e\u0440\u0438\u043d\u0442"],["HKD","\u0413\u043e\u043d\u043a\u043e\u043d\u0433\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440"],["DKK","\u0414\u0430\u0442\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430"],["XDR","\u0421\u0414\u0420 (\u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0438\u043c\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f)"],["EUR","\u0415\u0432\u0440\u043e"],["RON","\u0420\u0443\u043c\u044b\u043d\u0441\u043a\u0438\u0439 \u043b\u0435\u0439"],["CAD","\u041a\u0430\u043d\u0430\u0434\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440"],["KGS","\u041a\u0438\u0440\u0433\u0438\u0437\u0441\u043a\u0438\u0439 \u0441\u043e\u043c"],["KZT","\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d\u0441\u043a\u0438\u0439 \u0442\u0435\u043d\u0433\u0435"],["CNY","\u041a\u0438\u0442\u0430\u0439\u0441\u043a\u0438\u0439 \u044e\u0430\u043d\u044c"],["SGD","\u0421\u0438\u043d\u0433\u0430\u043f\u0443\u0440\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u043b\u0430\u0440"],["ZAR","\u042e\u0436\u043d\u043e\u0430\u0444\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u0438\u0439 \u0440\u044d\u043d\u0434"],["MDL","\u041c\u043e\u043b\u0434\u0430\u0432\u0441\u043a\u0438\u0439 \u043b\u0435\u0439"],["INR","\u0418\u043d\u0434\u0438\u0439\u0441\u043a\u0430\u044f \u0440\u0443\u043f\u0438\u044f"],["KRW","\u0412\u043e\u043d \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u043e\u0440\u0435\u044f"],["NOK","\u041d\u043e\u0440\u0432\u0435\u0436\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430"],["AMD","\u0410\u0440\u043c\u044f\u043d\u0441\u043a\u0438\u0439 \u0434\u0440\u0430\u043c"],["UAH","\u0423\u043a\u0440\u0430\u0438\u043d\u0441\u043a\u0438\u0439 \u0433\u0440\u0438\u0432\u043d\u0430"],["PLN","\u041f\u043e\u043b\u044c\u0441\u043a\u0438\u0439 \u0437\u043b\u043e\u0442\u044b\u0439"],["CHF","\u0428\u0432\u0435\u0439\u0446\u0430\u0440\u0441\u043a\u0438\u0439 \u0444\u0440\u0430\u043d\u043a"],["SEK","\u0428\u0432\u0435\u0434\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430"],["TJS","\u0422\u0430\u0434\u0436\u0438\u043a\u0441\u043a\u0438\u0439 \u0441\u043e\u043c\u043e\u043d"],["UZS","\u0423\u0437\u0431\u0435\u043a\u0441\u043a\u0438\u0439 \u0441\u0443\u043c"],["CZK","\u0427\u0435\u0448\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u043d\u0430"],["TRY","\u0422\u0443\u0440\u0435\u0446\u043a\u0430\u044f \u043b\u0438\u0440\u0430"],["JPY","\u042f\u043f\u043e\u043d\u0441\u043a\u0430\u044f \u0438\u0435\u043d\u0430"]]),a=Object.values(e).map(function(e){return{id:e.ID,charCode:e.CharCode,name:t.get(e.CharCode),value:e.Value/e.Nominal,previous:e.Previous/e.Nominal}});return a.push({id:"R00000",charCode:"RUB",name:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",value:1,previous:1,base:!0}),a}}]),e}()),L=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"FETCH_CURRENCIES_REQUEST"}),F.getData().then(function(a){t({type:"FETCH_CURRENCIES_SUCCESS",payload:a}),e.loadFromLocalStorage()}).catch(function(e){t(function(e){return{type:"FETCH_CURRENCIES_FAILURE",payload:e}}(e))})}},{key:"loadFromLocalStorage",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.currencies,r=localStorage,c=r.base,o=r.favs;c&&a(y(n,c)),o&&o.split(",").forEach(function(t){a(N(e.props.currencies,t))})}},{key:"render",value:function(){return this.props.loading?r.a.createElement(j,null):r.a.createElement(f.a,{basename:"/currency-converter"},r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",component:D,exact:!0}),r.a.createElement(p.a,{path:"/converter",component:V}))))}}]),t}(r.a.Component),H=Object(i.b)(function(e){return{loading:e.loading,error:e.error,currencies:e.currencies}})(L),M=(a(78),function(e){return r.a.createElement("div",{className:"error-indicator-frame"},r.a.createElement("div",{className:"error-indicator"},r.a.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true"}),r.a.createElement("h1",null,"\u0423\u043f\u0441! \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!"),r.a.createElement("i",{className:"error-code"},"(",e.error.message,")")))}),K=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={error:null},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"render",value:function(){return this.state.error?r.a.createElement(M,{error:this.state.error}):this.props.error?r.a.createElement(M,{error:this.props.error}):this.props.children}}]),t}(r.a.Component),A=Object(i.b)(function(e){return{error:e.error}})(K),B=a(25),P={currencies:[],error:!1,loading:!0},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENCIES_REQUEST":return{currencies:[],error:!1,loading:!0};case"FETCH_CURRENCIES_SUCCESS":return{currencies:t.payload,error:!1,loading:!1};case"FETCH_CURRENCIES_FAILURE":return{currencies:[],error:t.payload,loading:!1};case"EDIT_CURRENCIES":return Object(C.a)({},e,{currencies:t.payload});default:return e}},G=Object(B.b)(Z);o.a.render(r.a.createElement(i.a,{store:G},r.a.createElement(A,null,r.a.createElement(H,null))),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.9b818705.chunk.js.map